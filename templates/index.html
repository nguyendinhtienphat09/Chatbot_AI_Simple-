<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatBot AI</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <div class="hero-section">
            <h1>ü§ñ ChatBot AI</h1>
            <p>Tr·∫£i nghi·ªám tr√≤ chuy·ªán v·ªõi AI th√¥ng minh</p>
            <div class="button-group">
                <a href="/login" class="btn btn-primary">ƒêƒÉng Nh·∫≠p</a>
                <button onclick="showRegister()" class="btn btn-secondary">ƒêƒÉng K√Ω</button>
            </div>
        </div>

        <div id="registerModal" class="modal">
            <div class="modal-content">
                <h2>ƒêƒÉng K√Ω T√†i Kho·∫£n</h2>
                <form id="registerForm">
                    <input type="text" id="regName" placeholder="H·ªç t√™n" required>
                    <input type="text" id="regUsername" placeholder="T√™n ƒëƒÉng nh·∫≠p" required>
                    <input type="password" id="regPassword" placeholder="M·∫≠t kh·∫©u" required>
                    <button type="submit" class="btn btn-primary">ƒêƒÉng K√Ω</button>
                </form>
                <button onclick="closeRegister()" class="btn btn-secondary">ƒê√≥ng</button>
            </div>
        </div>
    </div>

    <script>
        function showRegister() {
            document.getElementById('registerModal').style.display = 'flex';
        }

        function closeRegister() {
            document.getElementById('registerModal').style.display = 'none';
        }

        document.getElementById('registerForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = {
                name: document.getElementById('regName').value,
                username: document.getElementById('regUsername').value,
                password: document.getElementById('regPassword').value
            };

            try {
                const response = await fetch('/register', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify(formData)
                });

                const data = await response.json();
                alert(data.message);
                
                if (data.success) {
                    closeRegister();
                    document.getElementById('registerForm').reset();
                }
            } catch (error) {
                alert('L·ªói k·∫øt n·ªëi server');
            }
        });
    </script>
</body>
</html>